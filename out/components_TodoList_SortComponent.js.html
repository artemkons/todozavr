<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/TodoList/SortComponent.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/TodoList/SortComponent.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from "react";
import useReq from "../../hooks/req.hook";
import { Button } from "react-bulma-components";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import {
  faSortAmountUp,
  faSortAmountDownAlt,
} from "@fortawesome/free-solid-svg-icons";

/**
 * Render sort menu, which consist of text and two buttons: order, parameter.
 * Makes following queries: mutation - setSort.
 * @param {Integer} order It may be 0(descending) or 1(ascending).
 * @param {String} parameter Which is used for sorting.
 * @param {Function} setSort
 * @returns Sort menu.
 */
const SortComponent = ({ order, parameter, setSort }) => {
  const [makeMutation, ,] = useReq();

  const handleSelect = (e) => {
    let newPar = e.target.value;

    let mutation = `
    mutation {
      setSort(parameter: "${newPar}") {
        __typename
      }
    }
    `;

    makeMutation(mutation);
    setSort((prev) => ({
      ...prev,
      parameter: newPar,
    }));
  };

  const handleOrderButton = () => {
    let newOrder = order === 0 ? 1 : 0;

    let mutation = `
    mutation {
      setSort(order:${newOrder}) {
        __typename
      }
    }
    `;

    makeMutation(mutation);
    setSort((prev) => ({
      ...prev,
      order: newOrder,
    }));
  };

  return (
    &lt;div className="sort-menu">
      &lt;Button onClick={handleOrderButton} className="sort-menu__order-button">
        {order === 1 ? (
          &lt;FontAwesomeIcon icon={faSortAmountUp} />
        ) : (
          &lt;FontAwesomeIcon icon={faSortAmountDownAlt} />
        )}
      &lt;/Button>
      Сортировать по
      &lt;select
        value={parameter}
        onChange={handleSelect}
        className="sort-menu__select"
      >
        &lt;option value="deadline">дате&lt;/option>
        &lt;option value="done">выполнению&lt;/option>
        &lt;option value="title">алфавиту&lt;/option>
      &lt;/select>
    &lt;/div>
  );
};

export default SortComponent;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#App">App</a></li><li><a href="global.html#DataBlock">DataBlock</a></li><li><a href="global.html#DateInput">DateInput</a></li><li><a href="global.html#SortComponent">SortComponent</a></li><li><a href="global.html#TodoEditor">TodoEditor</a></li><li><a href="global.html#TodoItem">TodoItem</a></li><li><a href="global.html#TodoList">TodoList</a></li><li><a href="global.html#useReq">useReq</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Thu Jun 24 2021 12:25:00 GMT+0300 (Moscow Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
